# 微信小程序开发

2019/7/20

## 一、小程序简介

小程序起源于微信的webview；此类API最初是提供给腾讯内部一些业务使用，很多外部开发者发现后，照葫芦画瓢，逐渐成为微信中网页的事实标准。2015年初，微信发布了一整套网页开发工具包，称为JS-SDK，开发了拍摄、录音、语音识别、二维码、地图等几十个API。给所有web开发者打开了一扇全新的窗户。

网页开发者需要面对的环境是各式各样的浏览器，PC端需要面对IE、Chrome、QQ浏览器等，移动端需要面对safari、chrome以及iOS、Android系统中各式webview。而小程序开发过程中需要面对的是两大操作系统的微信客户端以及辅助开发的小程序开发者工具。小程序中三大运行环境有所区别。如下

 

| 运行环境         | 逻辑层           | 渲染层           |
| ---------------- | ---------------- | ---------------- |
| iOS              | Java script core | wkwebview        |
| android          | V8               | chromium定制内核 |
| 小程序开发者工具 | NWJS             | Chrome webview   |

网页开发者在开发网页的时候，只需要使用到浏览器，并搭配上一下辅助工具或者编辑器即可。小程序开发需要申请小程序账号、安装小程序开发者工具、配置项目等等。

 

## 二、准备

1申请账号：

进入小程序注册页根据指引填写信息和提交相应的资料，就可以拥有自己的小程序账号；然后登陆小程序后台，在设置-开发选项就可以看到小程序的AppID。

2安装开发工具

前往开发者工具下载页面，根据操作系统选择安装包。

3新建小程序

新建项目选择小程序项目，选择代码存放的硬盘路径，填写AppID，然后勾选创建QuickStart项目，点击确定。

4编译预览

 

## 三、小程序代码构成

在QuickStart项目中，有json配置文件、wxml模板文件、wxss样式文件、js脚本逻辑文件。

Json配置：json是一种数据格式，用来静态配置。其中app.json是当前小程序的全局配置，包括所有页面路径、底部tab等；工具配置project.comfig,json为重新安装工具是，自动恢复个性化配置，包括编辑器的颜色等等；页面配置page.json用来表示pages/logs目录下的logs.json这类和小程序页面相关的配置。

WXML模板：充当HTML的角色。

WXSS样式：具有css大部分特性。

JS逻辑交互：处理用户操作

 

## 四、小程序宿主环境（微信）

小程序的运行环境分为渲染层和逻辑层。其中WXML、WXSS在渲染层，JS在逻辑层。渲染层的界面使用WebView进行渲染，逻辑层采用JsCore线程运行JS脚本。由于小程序存在多个界面

 

 

 

 

 

 

 

 

 

 