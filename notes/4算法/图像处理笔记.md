# 图像处理笔记

图像处理笔记

目的：学习图像处理，并且应用到人工智能的计算机视觉上；

如何学习：一方面介绍图像处理的理论，一方面写实验报告；

如何图像处理：首先获得图像，然后将图片二值化，接着边缘检测



第一章 导论    

第二章 图像的数字化

第三章 二值图像处理

第四章 彩色图像处理

第五章 图像噪声的抑制

第六章 图像增强

第七章 图像几何变换

第八章 图像锐化

第九章 图像变换

第十章 图像编码



 

## 第一章 导论



1.1图像的基本概念

1.2图像处理，计算机视觉，计算机图形学

1.3数字图像处理系统结构

1.4数字图像处理的主要研究内容

1.5数字图像处理的发展与应用



1.**图像处理的应用**：人脸识别、车牌识别、行人识别、手势识别、指纹识别、虹膜识别、运动识别

2.**图像处理的领域**：日常生活、影视娱乐业、军事领域、红外成像、医学成像、计算机视觉

 

## 第二章   图像的数字化



2.1 人眼的视觉特性

**2.2** **图像的数字化：获取、****采样、量化**

**2.3** **数字图像的数值描述**

2.4 数字图像的位图文件结构



\1. **图像数字化**：是指将模拟图像经过离散化之后，得到用数字表示的图像，包括了空间离散化（即采样）和明暗表示数据的离散化（即量化）。

\2. **采样**：是指将在空间上连续的图像转换成离散的采样点（即像素）集的操作。由于图像是二维分布的信息，所以采样是在 x轴和y轴两个方向上进行的。一般情况下， x轴方向与y轴方向的采样间隔相同。　

\3. **分辨率**：是指映射到图像平面上的单个像素的景物元素的尺寸。

单位：像素/英寸，像素/厘米（如：扫描仪的指标 300dpi） 

单位：像素*像素（如：数码相机指标30万像素（640*480））

\4. **采样间隔**：采样间隔太小，则增大数据量；太大， 则会发生信息的混叠，导致细节无法辨认（例如马赛克）。

\5. **量化**：是将各个像素所含的明暗信息离散化后，用数字来表示。一般的量化值为整数。充分考虑到人眼的识别能力之后，目前非特殊用途的图像均为8bit量化，即采用0~255的整数来描述“从黑到白”。在3bit以下的量化，会出现伪轮廓现象；招贴画化；2级灰度即二值化

6.**数字图像的描述**：是指如何用一个数值方式来表示一个图像。数字图像是图像的数字表示，像素是其最小的单位。因为矩阵是二维的，所以可以用矩阵来描述数字图像。描述数字图像的矩阵目前采用的是整数阵，即每个像素的亮暗，用一个整数来表示。

7.**灰度图像**是指每个像素的信息由一个量化的灰度级来描述的图像，没有彩色信息。

​                                 8.**彩色图像**是指每个像素的信息由**RGB三原色**构成的图像，其中RGB是由不同的灰度级来描述的。彩色图像不能用一个矩阵来描述了，一般是用**三个矩阵**同时来描述。

  

 

 

 

 

9.**位图文件的总体结构：**文件头、信息头、真彩色模式（像素的RGB值）、索引色模式（调色板+调色索引值）；灰度倒置为底片效果

## 第三章   二值图像处理



3.1二值图像中的基本概念

3.2图像的二值化方法

3.3二值图像分析



1.**二值化图像处理的问题**：提取的目标中存在伪目标物；多个目标物中，存在粘连或者是断裂；多个目标物存在形态的不同。

2.**连接**：有四连接和八连接（当前像素为黑，其八个近邻像素中至少有一个为黑）；

3.**连通域**：将相互连在一起的黑色像素的集合称为一个连通域。

4.**二值图像的分析方法**：贴标签、腐蚀、膨胀、开运算、闭运算、细线化方法

5.贴标签：

6.**腐蚀**：是一种消除连通域的边界点，使边界向内收缩的处理。腐蚀处理可以将粘连在一起的不同目标物分离，并可以将小的颗粒噪声去除。

7.**膨胀**：是将与目标区域的背景点合并到该目标物中，使目标物边界向外部扩张的处理。

8.开运算与闭运算的提出：背景前面介绍的膨胀与腐蚀运算，对目标物的后处理有着非常好的作用。但是，腐蚀和膨胀运算的一个缺点是，改变了原目标物的大小。为了解决这一问题，考虑到腐蚀与膨胀是一对逆运算，将膨胀与腐蚀运算同时进行。由此便构成了开运算与闭运算。 

9.**开运算**：是对原图先进行腐蚀处理，后再进行膨胀的处理。开运算可以在分离粘连目标物的同时，基本保持原目标物的大小。

10.**闭运算**：是对原图先进行膨胀处理，后再进行腐蚀的处理。闭运算可以在合并断裂目标物的同时，基本保持原目标物的大小。

\11. **细线化过程**：求一图像的骨架过程，经过细线化处理后，图像中的所有线条的幅度均为一个像素。

 

## 第四章   彩色图像处理

我们将讨论颜色级的修正，图像的平滑滤波，图像的锐化处理等方法，同时还包括彩色补偿，彩色平衡等方法

 

## 第五章   图像的噪声抑制



5.1 图像噪声的基本概念

5.2 均值滤波（原理与方法）

5.3 中值滤波（原理与方法）

5.4 边界保持类平滑滤波

 5.4.1 K近邻平滑滤波器

 5.4.2 对称近邻均值滤波器

 5.4.3 灰度最小方差的均值滤波器

 5.4.4 西戈玛平滑滤波器



1.所谓的图像噪声，是图像在摄取时或是传输时所受到的随机干扰信号。常见的有**椒盐噪声**和**高斯噪声**。     

2.椒盐噪声的特征:：出现**位置是随机的**，但噪声的**幅值是基本相同的**。

高斯噪声的特征：出现在位置是一定的（**每一点上**），但噪声的**幅值是随机的**。     

3.**图像噪声的抑制方法：均值滤波器、中值滤波器、边界保持类滤波器**

4.均值滤波器：在图像上，对待处理的像素给定一个模板，该模板包括了其周围的邻近像素。将模板中的**全体像素的均值**来替代原来的像素值的方法。均值滤波器的缺点是，**会使图像变的模糊**，原因是它对所有的点都是同等对待，在将噪声点分摊的同时，将景物的边界点也分摊了。

5.**中值滤波器：**因为噪声（如椒盐噪声）的出现，使该点像素比周围的像素**亮（暗）许多**。

如果在某个模板中，对像素进行**由小到大排列的重新排列**，那么最亮的或者是最暗的点一定被**排在两侧**。取模板中排在**中间位置**上的像素的灰度值**替代待处理像素(当前位置)**的值，就可以达到**滤除噪声**的目的。

\6. 边界保持滤波器的核心是**确定边界点与非边界点**。

 

## 第六章   图像增强

6.1 引言

6.2 线性变换：反色、二值化、线性比例、对比度线性展宽

灰级窗与灰级窗切片、线性动态范围调整

6.3 非线性变换：对数变换、指数变换、幂律变换

**6.4** **直方图增强方法**：直方图均衡化、**直方图规定化**

1.图像增强是采用一系列技术去改善图像的视觉效果,或将图像转换成一种更适合于人或机器进行分析和处理的形式。

2.图像增强方法从增强的作用域出发，可分为**空间域**增强和**频率域**增强两种。

  空间域增强是直接对图像**各像素进行处理**；

  频率域增强是对图像经傅立叶变换后的**频谱成分**进行处理，然后逆傅立叶变换获得所需的图像。

3.线性对比度展宽：通过将亮暗差异（即**对比度**）**扩大**，来把人**所关心的部分强调出来**。

4.灰级窗：实际上是线性对比度展宽的一种特殊形式。只保留感兴趣的部分，其余部分置为0。

5.线性动态范围调整：通过动态范围的压缩可以将**所关心部分**的灰度级的**变化范围扩大**。

​        

 

 

 

 

 

6.非线性动态范围调整：因为线性动态范围调整的**分段线性映射不够光滑**。

​    对数变换：将**暗的部分扩展**，而将**亮的部分抑制**。整体变亮

 指数变换：整体变暗；       幂律变换：自由调节

7.直方图均衡化

 

## 第7章   图像几何变换

图像的几何变换包括了图像的形状变换和图像的位置变换。

图像的形状变换是指图像的放大、缩小与错切。

图像的位置变换是指图像的平移、镜像与旋转。

 

## 第八章   图像锐化

图像锐化的目的是加强图像中景物的细节边缘和轮廓。锐化的作用是使灰度反差增强。

因为边缘和轮廓都位于灰度突变的地方。所以锐化算法的实现是基于微分作用。

 

## 第九章   图像变换

  图像的数学变换的特点在于其有精确的数学背景，是许多图像处理技术的基础。在这些变换中，一种是在空间域上进行的。另一种重要的数学变换则是将原定义在图像空间的图像以某种形式转换到另外一些空间（频域），并利用输入图像在这些空间的特有性质有效而快速地对图像进行处理和分析。

  最典型的变换有离散傅立叶变换，Gabor变换、小波变换、离散余弦变换、K-L变换等等。

  无论是在空域中的数学变换还是频域中的数学变换，它们在图像分析、滤波、增强、压缩等处理中都有着非常典型而重要的应用。

 

## 第十章   图像编码

数据编码的研究内容包括数据的表示、传输、变换和编码方法，目的是减少存储数据所需的空间和传输所用的时间。

   图像编码与压缩就是对图像数据按一定的规则进行变换和组合，达到以尽可能少的代码（符号）来表示尽可能多的图像信息。bmp    jpeg     psd 

# OpenCV概述

## 一、简介

 1.Opencv是一种数字图像处理和计算机视觉的函数库，包含300多个图像处理函数。以下是几个对立的字库组成

\1. CV：是核心函数库，包含图像处理和计算机视觉算法（图像处理、结构分析、运动分析、物体跟踪和模式识别等）；

\2. CXCORE：是数据结构与线性代数库，包含一些基本函数（各种数据类型的基本运算等）

3.highGUI： 是GUI函数库，包含用户交互部分（图形界面、图像视频输入输出、系统调用函数）

4.CVaux：是辅助函数库，包含一些实验性的函数（如三维跟踪）

5.CVCam：视频流处理

6.ML：是机器学习函数库，包含机器学习算法

 在这些库函数的支持下，用户可以直接调用滤波函数，形态学处理、图像特征提取，轮廓提取算法和跟踪算法，也可以添加自己编写的子函数，不但能完成复杂的开发任务，也可以提高效率；

  2.opencv命名规则

   1.函数名：如cvActionTargetMod()，cv代表库，Action代表核心功能（如set、create），Target代表目标图像区域（如contour、polygon），Mod代表可选的调整语（如argument type）

   2.矩阵数据类型：如CV_8UC1代表8位的无符号整数型单通道矩阵；CV_32FC2代表32位的浮点型双通道矩阵。（S=符号整数型）

   3.图像数据类型：如IPL_DEPTH_8U代表图像像素数据是8位的无符号整型；

   4.头文件：cv.h，cvaux.h，highgui.h，ml.h，cxcore.h

 

实验一

学习OpenCV基本库函数



1.利用自带的视频库，打开摄像头，捕获真实视频

2.对捕获的图像进行图像分割

3.使用灰度直方图、二值化、腐蚀、膨胀、开运算、闭运算等方法

 

1.打开图片:image

2.打开摄像头:camera

3.图像分割：二值化threshold

4.腐蚀和膨胀:erosion and dilation

5.开运算、闭运算：opening operation and closing operation

 

3.使用灰度直方图和二值化

灰度直方图作用：它表示图象中具有每种灰度级的象素的个数，反映图象中每种灰度出现的频率。分析

二值化作用：二值化的所用就是将图像分成黑和白，更加有利于做图像处理判别。在漫画里提取线稿

 

4.使用腐蚀和膨胀

腐蚀：使用算法将图像的边缘腐蚀掉。作用就是将目标的边缘的“毛刺”踢除掉。如细胞图

膨胀：使用算法将图像的边缘扩大些。作用就是将目标的边缘或者是内部的坑填掉。如章印



 

5.使用开运算、闭运算

闭运算：先膨胀后腐蚀（缩小），以消除图像内部的尖角；如章印，去除小型黑点

开运算：先腐蚀（缩小）后膨胀，以消除毛刺，起到平滑的作用。如细胞图，排除小物体